<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LibL6474-C-Library: L6474x_Platform Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="banner.png"/></td>
  <td id="projectalign">
   <div id="projectname">LibL6474-C-Library<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">Library Code documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('structL6474x__Platform.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle"><div class="title">L6474x_Platform Struct Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="LibL6474_8h_source.html">LibL6474.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a47159af6df8de0ad4f9f52a2665f132f" id="r_a47159af6df8de0ad4f9f52a2665f132f"><td class="memItemLeft" align="right" valign="top">void *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a47159af6df8de0ad4f9f52a2665f132f">malloc</a> )(unsigned int size)</td></tr>
<tr class="separator:a47159af6df8de0ad4f9f52a2665f132f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2a5aa62e3026dc6f2e30ba3396e95d6" id="r_aa2a5aa62e3026dc6f2e30ba3396e95d6"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa2a5aa62e3026dc6f2e30ba3396e95d6">free</a> )(const void *const pMem)</td></tr>
<tr class="separator:aa2a5aa62e3026dc6f2e30ba3396e95d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fe507a91d9903700ea26979c99285d1" id="r_a7fe507a91d9903700ea26979c99285d1"><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7fe507a91d9903700ea26979c99285d1">transfer</a> )(void *pIO, char *pRX, const char *pTX, unsigned int length)</td></tr>
<tr class="separator:a7fe507a91d9903700ea26979c99285d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad025e0b1e005cd87e8694e057201ab46" id="r_ad025e0b1e005cd87e8694e057201ab46"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad025e0b1e005cd87e8694e057201ab46">reset</a> )(void *pGPO, const int ena)</td></tr>
<tr class="separator:ad025e0b1e005cd87e8694e057201ab46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c6f3ea2ea4060d8fa8e2569565528bd" id="r_a8c6f3ea2ea4060d8fa8e2569565528bd"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8c6f3ea2ea4060d8fa8e2569565528bd">sleep</a> )(unsigned int ms)</td></tr>
<tr class="separator:a8c6f3ea2ea4060d8fa8e2569565528bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad572a0239acf4cd50a3e7463ef5ddc9b" id="r_ad572a0239acf4cd50a3e7463ef5ddc9b"><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad572a0239acf4cd50a3e7463ef5ddc9b">stepAsync</a> )(void *pPWM, int dir, unsigned int numPulses, void(*doneClb)(<a class="el" href="LibL6474_8h.html#a31a0c627342d952d0dddf3fbe0643cac">L6474_Handle_t</a>), <a class="el" href="LibL6474_8h.html#a31a0c627342d952d0dddf3fbe0643cac">L6474_Handle_t</a> h)</td></tr>
<tr class="separator:ad572a0239acf4cd50a3e7463ef5ddc9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5551ae8e979685460c0183407287f18" id="r_ae5551ae8e979685460c0183407287f18"><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae5551ae8e979685460c0183407287f18">cancelStep</a> )(void *pPWM)</td></tr>
<tr class="separator:ae5551ae8e979685460c0183407287f18"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The <a class="el" href="LibL6474_8h.html#abd8789d767c61f493658bc6c964d141a">L6474x_Platform_t</a> structure is used to encapsulate platform specific parameters and to provide environment specific functions in a generalized format. Theses functions are malloc and free or some PWM and GPIO abstractions The lock guards and thread safety mechanisms are also abstracted by this structure </p>
</div><h2 class="groupheader">Field Documentation</h2>
<a id="ae5551ae8e979685460c0183407287f18" name="ae5551ae8e979685460c0183407287f18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5551ae8e979685460c0183407287f18">&#9670;&#160;</a></span>cancelStep</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* L6474x_Platform::cancelStep) (void *pPWM)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>the cancelStep function is a synchronous blocking function which cancels the asynchronous previously started step operation in case it has not been finished</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pPWM</td><td>optional user context pointer which has been passed by the L6474_CreateInstance call </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa2a5aa62e3026dc6f2e30ba3396e95d6" name="aa2a5aa62e3026dc6f2e30ba3396e95d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2a5aa62e3026dc6f2e30ba3396e95d6">&#9670;&#160;</a></span>free</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* L6474x_Platform::free) (const void *const pMem)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>classic free function pointer which releases memory previously allocated by malloc. The user must provide this function as part of the platform abstraction. The minimal functionality can be reached by providing a function which simply calls free in case The malloc abstraction function is a call to malloc.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pMem</td><td>pointer of the memory space which shall be freed</td></tr>
  </table>
  </dd>
</dl>
<p>The behavior is schematically as follows: </p><div class="plantumlgraph">
<img src="inline_umlgraph_1.png" />
</div>
 
</div>
</div>
<a id="a47159af6df8de0ad4f9f52a2665f132f" name="a47159af6df8de0ad4f9f52a2665f132f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47159af6df8de0ad4f9f52a2665f132f">&#9670;&#160;</a></span>malloc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void *(* L6474x_Platform::malloc) (unsigned int size)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>classic malloc function pointer which returns null in case of an error or a memory void* pointer with the given size by the first argument. The user must provide this function as part of the platform abstraction. The minimal functionality can be reached by providing a function which simply calls malloc.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>number of bytes requested by the memory allocation request</td></tr>
  </table>
  </dd>
</dl>
<p>The behavior is schematically as follows: </p><div class="plantumlgraph">
<img src="inline_umlgraph_3.png" />
</div>
 
</div>
</div>
<a id="ad025e0b1e005cd87e8694e057201ab46" name="ad025e0b1e005cd87e8694e057201ab46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad025e0b1e005cd87e8694e057201ab46">&#9670;&#160;</a></span>reset</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* L6474x_Platform::reset) (void *pGPO, const int ena)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>the reset function is used to provide gpio access to the reset of the stepper driver chip. keep in mind that the chip has a reset not pin and so the ena signal must be inverted to set the correct reset level physically</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pGPO</td><td>optional user context pointer which has been passed by the L6474_CreateInstance call </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ena</td><td>output state to set without level inversion</td></tr>
  </table>
  </dd>
</dl>
<p>The behavior is schematically as follows: </p><div class="plantumlgraph">
<img src="inline_umlgraph_5.png" />
</div>
 
</div>
</div>
<a id="a8c6f3ea2ea4060d8fa8e2569565528bd" name="a8c6f3ea2ea4060d8fa8e2569565528bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c6f3ea2ea4060d8fa8e2569565528bd">&#9670;&#160;</a></span>sleep</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* L6474x_Platform::sleep) (unsigned int ms)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>the sleep function implements a wait time with the argument in milliseconds</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ms</td><td>time to sleep in milliseconds</td></tr>
  </table>
  </dd>
</dl>
<p>The behavior is schematically as follows: </p><div class="plantumlgraph">
<img src="inline_umlgraph_7.png" />
</div>
 
</div>
</div>
<a id="ad572a0239acf4cd50a3e7463ef5ddc9b" name="ad572a0239acf4cd50a3e7463ef5ddc9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad572a0239acf4cd50a3e7463ef5ddc9b">&#9670;&#160;</a></span>stepAsync</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* L6474x_Platform::stepAsync) (void *pPWM, int dir, unsigned int numPulses, void(*doneClb)(<a class="el" href="LibL6474_8h.html#a31a0c627342d952d0dddf3fbe0643cac">L6474_Handle_t</a>), <a class="el" href="LibL6474_8h.html#a31a0c627342d952d0dddf3fbe0643cac">L6474_Handle_t</a> h)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>the stepAsync function is an asynchronous non-blocking function which e.g. enables a timer which then generates the required amount of pulses given by the numPulses argument. The doneCLB is a callback provided by the library which is called when the asynchronous operation has been done</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pPWM</td><td>optional user context pointer which has been passed by the L6474_CreateInstance call </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dir</td><td>output signal to drive the stepper clock wise or counter clockwise </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">numPulses</td><td>number of high and low transitions to generate a pulse for the stepper chip </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">doneClb</td><td>callback function pointer, which is required to be called after the async process has been finished </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">h</td><td>handle pointer which is at least required by the callback of doneClb argument</td></tr>
  </table>
  </dd>
</dl>
<p>The behavior is schematically as follows: </p><div class="plantumlgraph">
<img src="inline_umlgraph_9.png" />
</div>
 
</div>
</div>
<a id="a7fe507a91d9903700ea26979c99285d1" name="a7fe507a91d9903700ea26979c99285d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fe507a91d9903700ea26979c99285d1">&#9670;&#160;</a></span>transfer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* L6474x_Platform::transfer) (void *pIO, char *pRX, const char *pTX, unsigned int length)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>the transfer function is used to provide bus access to the stepper driver chip</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pIO</td><td>optional user context pointer which has been passed by the L6474_CreateInstance call </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pRX</td><td>pointer to the receive data buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pTX</td><td>pointer to the transmit data buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">length</td><td>number of bytes for RX and TX</td></tr>
  </table>
  </dd>
</dl>
<p>The behavior is schematically as follows: </p><div class="plantumlgraph">
<img src="inline_umlgraph_11.png" />
</div>
 
</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>C:/HomeGit/STM32/libs/LibL6474/inc/<a class="el" href="LibL6474_8h_source.html">LibL6474.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="structL6474x__Platform.html">L6474x_Platform</a></li>
    <li class="footer">Generated on Wed Apr 23 2025 08:37:59 for LibL6474-C-Library by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
