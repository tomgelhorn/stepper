<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LibSpindle-C-Library: C:/HomeGit/STM32/libs/LibSpindle/inc/Spindle.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="banner.png"/></td>
  <td id="projectalign">
   <div id="projectname">LibSpindle-C-Library<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">Library Code documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('Spindle_8h.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Spindle.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;Console.h&quot;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for Spindle.h:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="Spindle_8h__incl.png" border="0" usemap="#aC_1_2HomeGit_2STM32_2libs_2LibSpindle_2inc_2Spindle_8h" alt=""/></div>
<map name="aC_1_2HomeGit_2STM32_2libs_2LibSpindle_2inc_2Spindle_8h" id="aC_1_2HomeGit_2STM32_2libs_2LibSpindle_2inc_2Spindle_8h">
<area shape="rect" title=" " alt="" coords="5,5,170,48"/>
<area shape="rect" title=" " alt="" coords="47,96,128,123"/>
<area shape="poly" title=" " alt="" coords="90,49,90,80,85,80,85,49"/>
</map>
</div>
</div><div class="textblock"><div id="dynsection-1" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> This graph shows which files directly or indirectly include this file:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="Spindle_8h__dep__incl.png" border="0" usemap="#aC_1_2HomeGit_2STM32_2libs_2LibSpindle_2inc_2Spindle_8hdep" alt=""/></div>
<map name="aC_1_2HomeGit_2STM32_2libs_2LibSpindle_2inc_2Spindle_8hdep" id="aC_1_2HomeGit_2STM32_2libs_2LibSpindle_2inc_2Spindle_8hdep">
<area shape="rect" title=" " alt="" coords="6,5,170,48"/>
<area shape="rect" href="Spindle_8c.html" title=" " alt="" coords="5,96,171,139"/>
<area shape="poly" title=" " alt="" coords="91,64,91,96,85,96,85,64"/>
</map>
</div>
</div>
<p><a href="Spindle_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structSpindlePhysicalParams.html">SpindlePhysicalParams</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a3d7552ef760330fd6f48acef7e0aa9be" id="r_a3d7552ef760330fd6f48acef7e0aa9be"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structSpindleHandle.html">SpindleHandle</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3d7552ef760330fd6f48acef7e0aa9be">SpindleHandle_t</a></td></tr>
<tr class="separator:a3d7552ef760330fd6f48acef7e0aa9be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a668bd557de626b1ef65f4d756d58146c" id="r_a668bd557de626b1ef65f4d756d58146c"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structSpindlePhysicalParams.html">SpindlePhysicalParams</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a668bd557de626b1ef65f4d756d58146c">SpindlePhysicalParams_t</a></td></tr>
<tr class="separator:a668bd557de626b1ef65f4d756d58146c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac853c2ad50f0e661cd06c2c68fe465d3" id="r_ac853c2ad50f0e661cd06c2c68fe465d3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a3d7552ef760330fd6f48acef7e0aa9be">SpindleHandle_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac853c2ad50f0e661cd06c2c68fe465d3">SPINDLE_CreateInstance</a> (unsigned int uxStackDepth, int xPrio, ConsoleHandle_t cH, <a class="el" href="#a668bd557de626b1ef65f4d756d58146c">SpindlePhysicalParams_t</a> *p)</td></tr>
<tr class="separator:ac853c2ad50f0e661cd06c2c68fe465d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a3d7552ef760330fd6f48acef7e0aa9be" name="a3d7552ef760330fd6f48acef7e0aa9be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d7552ef760330fd6f48acef7e0aa9be">&#9670;&#160;</a></span>SpindleHandle_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structSpindleHandle.html">SpindleHandle</a>* <a class="el" href="#a3d7552ef760330fd6f48acef7e0aa9be">SpindleHandle_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The <a class="el" href="#a3d7552ef760330fd6f48acef7e0aa9be">SpindleHandle_t</a> handle is an instance pointer of the spindle library which is generated whenever the SPINDLE_CreateInstance function returns with success. </p>

</div>
</div>
<a id="a668bd557de626b1ef65f4d756d58146c" name="a668bd557de626b1ef65f4d756d58146c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a668bd557de626b1ef65f4d756d58146c">&#9670;&#160;</a></span>SpindlePhysicalParams_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structSpindlePhysicalParams.html">SpindlePhysicalParams</a> <a class="el" href="#a668bd557de626b1ef65f4d756d58146c">SpindlePhysicalParams_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The <a class="el" href="#a668bd557de626b1ef65f4d756d58146c">SpindlePhysicalParams_t</a> structure is represents the abstraction functions and members as a container. The objetcs are passed as structure pointer when calling SPINDLE_CreateInstance. It contains function pointers to platform specific functions which enable the spindle or regulate the speed and direction of it. There are also limit values for the maximum, minimum and absolute minimum RPM and an additional context pointer which is passed the the abstraction functions. The user must provide a configured structure in its design when calling SPINDLE_CreateInstance. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ac853c2ad50f0e661cd06c2c68fe465d3" name="ac853c2ad50f0e661cd06c2c68fe465d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac853c2ad50f0e661cd06c2c68fe465d3">&#9670;&#160;</a></span>SPINDLE_CreateInstance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a3d7552ef760330fd6f48acef7e0aa9be">SpindleHandle_t</a> SPINDLE_CreateInstance </td>
          <td>(</td>
          <td class="paramtype">unsigned int</td>          <td class="paramname"><span class="paramname"><em>uxStackDepth</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>xPrio</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ConsoleHandle_t</td>          <td class="paramname"><span class="paramname"><em>cH</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a668bd557de626b1ef65f4d756d58146c">SpindlePhysicalParams_t</a> *</td>          <td class="paramname"><span class="paramname"><em>p</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The SPINDLE_CreateInstance function is used to create the spindle controller. There is a singleton pattern implemented for the controller so there is only one instance possible for the design. In case it is called multiple times, it returns the instance pointer of the first created spindle controller</p>
<p>The return value of SPINDLE_CreateInstance is a null pointer in case an error occured or a pointer of type <a class="el" href="#a3d7552ef760330fd6f48acef7e0aa9be">SpindleHandle_t</a>.</p>
<p>param uxStackDepth is the stack depth of the console processor thread in words param xPrio is the spindle controller priority. param cH of type ConsoleHandle_t is the handle pointer of a console processor instance which is required to register the console command for the spindle controller param p of type SpindlePhysicalParams_t* is a pointer to the platform abstraction functions</p>
<p>ATTENTION: This function is not locked or guarded and therefore its never thread safe when calling from two different threads at the same or nearly the same time while no instance has been created before! One pointer and its ressources could be lost which leads to a memory leak and/or to console command registration issues at runtime when using the spindle command! </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_bfccd401955b95cf8c75461437045ac0.html">inc</a></li><li class="navelem"><a class="el" href="Spindle_8h.html">Spindle.h</a></li>
    <li class="footer">Generated on Mon Apr 14 2025 22:03:09 for LibSpindle-C-Library by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
