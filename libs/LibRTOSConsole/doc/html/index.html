<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LibRTOSConsole-C-Library: FreeRTOS Console Library</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="banner.png"/></td>
  <td id="projectalign">
   <div id="projectname">LibRTOSConsole-C-Library<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">Library Code documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('index.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">FreeRTOS Console Library </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="intro_sec"></a>
Introduction</h1>
<p>The following code documentation is a set of tipps and diagramms as well as function and structure descriptions which help when using the library. It is used to increase the implementation speed. Some examples are attached in this documentation as well</p>
<h1><a class="anchor" id="static_sec"></a>
static compile flags of the library</h1>
<p>CONSOLE_USERNAME: The username in the console which is printed at least on power up before changing the username<br  />
 CONSOLE_USE_DYNAMIC_USERNAME: The username can be changed on runtime which is enabled with this DEFINE<br  />
 CONSOLE_LINE_HISTORY: specifies the maximum number of entries of the "last commands" buffer <br  />
 CONSOLE_LINE_SIZE: Specifies the number of chars per line. When exceeding this number without a newline,<br  />
 the console prints a buffer overflow and clears the input. All inputs are then invalidated within<br  />
 this line<br  />
 CONSOLE_COMMAND_MAX_LENGTH: Specifies the maximum number of chars per command<br  />
 CONSOLE_HELP_MAX_LENGTH: Specifies the maximum number of chars per command help text<br  />
</p>
<h1><a class="anchor" id="state_example"></a>
Examples</h1>
<p>The following example shows how to create a instance of the console library and how to attach a function for console usage. This is called registering a command</p>
<div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> CapabilityFunc( <span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>** argv, <span class="keywordtype">void</span>* ctx )</div>
<div class="line">{</div>
<div class="line">    printf(<span class="stringliteral">&quot;%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d,%d\r\nOK&quot;</span>,</div>
<div class="line">        1, <span class="comment">// has spindle</span></div>
<div class="line">        1, <span class="comment">// has spindle status</span></div>
<div class="line">        1, <span class="comment">// has stepper</span></div>
<div class="line">        1, <span class="comment">// has stepper move relative</span></div>
<div class="line">        1, <span class="comment">// has stepper move speed</span></div>
<div class="line">        1, <span class="comment">// has stepper move async</span></div>
<div class="line">        1, <span class="comment">// has stepper status</span></div>
<div class="line">        1, <span class="comment">// has stepper refrun</span></div>
<div class="line">        1, <span class="comment">// has stepper refrun timeout</span></div>
<div class="line">        1, <span class="comment">// has stepper refrun skip</span></div>
<div class="line">        1, <span class="comment">// has stepper refrun stay enabled</span></div>
<div class="line">        1, <span class="comment">// has stepper reset</span></div>
<div class="line">        1, <span class="comment">// has stepper position</span></div>
<div class="line">        1, <span class="comment">// has stepper config</span></div>
<div class="line">        1, <span class="comment">// has stepper config torque</span></div>
<div class="line">        1, <span class="comment">// has stepper config throvercurr</span></div>
<div class="line">        1, <span class="comment">// has stepper config powerena</span></div>
<div class="line">        1, <span class="comment">// has stepper config stepmode</span></div>
<div class="line">        1, <span class="comment">// has stepper config timeoff</span></div>
<div class="line">        1, <span class="comment">// has stepper config timeon</span></div>
<div class="line">        1, <span class="comment">// has stepper config timefast</span></div>
<div class="line">        1, <span class="comment">// has stepper config mmperturn</span></div>
<div class="line">        1, <span class="comment">// has stepper config posmax</span></div>
<div class="line">        1, <span class="comment">// has stepper config posmin</span></div>
<div class="line">        1, <span class="comment">// has stepper config posref</span></div>
<div class="line">        1, <span class="comment">// has stepper config stepsperturn</span></div>
<div class="line">        1  <span class="comment">// has stepper cancel</span></div>
<div class="line">    );</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">...</div>
<div class="line"> </div>
<div class="line"><span class="comment">// create the console processor. There are no additional arguments required because it uses stdin, stderr and</span></div>
<div class="line"><span class="comment">// stdout of the stdlib of the platform</span></div>
<div class="line">ConsoleHandle_t c = <a class="code hl_function" href="Console_8c.html#a1cc9e1f1895ce147a8402a545f431af0">CONSOLE_CreateInstance</a>( 4*configMINIMAL_STACK_SIZE, configMAX_PRIORITIES - 5  );</div>
<div class="line"> </div>
<div class="line"><span class="comment">// register the function, there is always a help text required, an empty string or null is not allowed!</span></div>
<div class="line"><a class="code hl_function" href="Console_8c.html#addfc73ef0ae78e22f0ce2cfb9ea1858e">CONSOLE_RegisterCommand</a>(c, <span class="stringliteral">&quot;capability&quot;</span>, <span class="stringliteral">&quot;prints a specified string of capability bits&quot;</span>,</div>
<div class="line">  CapabilityFunc, NULL);</div>
<div class="line"> </div>
<div class="line">...</div>
<div class="ttc" id="aConsole_8c_html_a1cc9e1f1895ce147a8402a545f431af0"><div class="ttname"><a href="Console_8c.html#a1cc9e1f1895ce147a8402a545f431af0">CONSOLE_CreateInstance</a></div><div class="ttdeci">ConsoleHandle_t CONSOLE_CreateInstance(unsigned int uxStackDepth, int xPrio)</div><div class="ttdef"><b>Definition</b> Console.c:1397</div></div>
<div class="ttc" id="aConsole_8c_html_addfc73ef0ae78e22f0ce2cfb9ea1858e"><div class="ttname"><a href="Console_8c.html#addfc73ef0ae78e22f0ce2cfb9ea1858e">CONSOLE_RegisterCommand</a></div><div class="ttdeci">int CONSOLE_RegisterCommand(ConsoleHandle_t h, char *cmd, char *help, CONSOLE_CommandFunc func, void *context)</div><div class="ttdef"><b>Definition</b> Console.c:1442</div></div>
</div><!-- fragment --><p>The following example shows a really simple console function and how it is used to work with the console and arguments passed by the user</p>
<div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> ConsoleFunction( <span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>** argv, <span class="keywordtype">void</span>* ctx )</div>
<div class="line">{</div>
<div class="line">  <span class="comment">//possible commands are</span></div>
<div class="line">  <span class="comment">//(command) start</span></div>
<div class="line">  <span class="comment">//(command) stop</span></div>
<div class="line">  </div>
<div class="line">  <span class="comment">// first decode the subcommand and all arguments</span></div>
<div class="line">  <span class="keywordflow">if</span> ( argc == 0 )</div>
<div class="line">  {</div>
<div class="line">    printf(<span class="stringliteral">&quot;invalid number of arguments\r\nFAIL&quot;</span>);</div>
<div class="line">    <span class="keywordflow">return</span> -1;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">if</span> ( strcmp(argv[0], <span class="stringliteral">&quot;stop&quot;</span>) == 0 )</div>
<div class="line">  {</div>
<div class="line">    <span class="comment">// do something</span></div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( strcmp(argv[0], <span class="stringliteral">&quot;start&quot;</span>) == 0 )</div>
<div class="line">  {</div>
<div class="line">    <span class="comment">// do something else</span></div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">else</span></div>
<div class="line">  {</div>
<div class="line">    printf(<span class="stringliteral">&quot;invalid subcommand was given as argument\r\nFAIL&quot;</span>);</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --> </div></div><!-- PageDoc -->
<a href="doxygen_crawl.html"></a>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Apr 14 2025 21:44:52 for LibRTOSConsole-C-Library by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
